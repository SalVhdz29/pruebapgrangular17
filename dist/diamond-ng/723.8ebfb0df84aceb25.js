"use strict";(self.webpackChunkdiamond_ng=self.webpackChunkdiamond_ng||[]).push([[723],{2723:(q,l,s)=>{s.r(l),s.d(l,{ServiciosModule:()=>Y});var p=s(6814),d=s(7664),e=s(5849),g=s(6306),v=s(8504),h=s(7053),u=s(9862),S=s(459);const T=h.S;let C=(()=>{class t{constructor(o,i){this.http=o,this.cookieService=i}getServicios(){let o=this.cookieService.get("user_token");const i=new u.WM({"Content-Type":"application/json",Authorization:`Bearer ${o}`});return this.http.get(T+"gestioncostos/servicios/",{headers:i})}static#e=this.\u0275fac=function(i){return new(i||t)(e.LFG(u.eN),e.LFG(S.N))};static#o=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Z=s(8541),x=s(4584),A=s(4532),_=s(5219),b=s(6023),m=s(707),M=s(3259),P=s(8528),w=s(2352),J=s(3714),y=s(6218),a=s(95);function D(t,c){1&t&&(e.TgZ(0,"small",19)(1,"b"),e._uU(2,"Favor ingresar un nombre v\xe1lido"),e.qZA()())}const F=()=>({"min-width":"500px"});function E(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"p-dropdown",14,15),e.NdJ("onChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.setProceso(n.value))}),e.qZA()(),e.TgZ(4,"div",13)(5,"span",16)(6,"textarea",17),e.NdJ("ngModelChange",function(n){e.CHM(o);const r=e.oxw();return e.KtG(r.descripcionServicio=n)}),e.qZA(),e.TgZ(7,"label",18),e._uU(8,"Descripci\xf3n del servicio "),e.TgZ(9,"small",19)(10,"b"),e._uU(11," *"),e.qZA()()()(),e.YNc(12,D,3,0,"small",20),e.qZA()()}if(2&t){const o=e.oxw();e.xp6(2),e.Akn(e.DdM(7,F)),e.Q6J("options",o.ProcesoList())("showClear",!0)("ngModel",o.ProcesoSeleccionado),e.xp6(4),e.Q6J("ngModel",o.descripcionServicio),e.xp6(6),e.Q6J("ngIf",(null==o.descripcionServicio||""==o.descripcionServicio)&&o.formularioCompleto)}}function N(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"p-button",21),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.agregarServicio())}),e.qZA(),e.TgZ(1,"p-button",22),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.cancelarServicio())}),e.qZA()}}function U(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",23)(1,"button",24),e.NdJ("click",function(){e.CHM(o);const n=e.oxw(),r=e.MAs(10);return e.KtG(n.clear(r))}),e.qZA(),e.TgZ(2,"span",25),e._UZ(3,"i",26),e.TgZ(4,"input",27,28),e.NdJ("input",function(){e.CHM(o);const n=e.MAs(5);e.oxw();const r=e.MAs(10);return e.KtG(r.filterGlobal(n.value,"contains"))}),e.qZA()()()}}function O(t,c){1&t&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Descripci\xf3n"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Misional"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Proceso"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Operaciones"),e.qZA()())}function R(t,c){if(1&t&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"p-button",29),e.qZA()()),2&t){const o=c.$implicit;e.xp6(2),e.Oqu(o.descripcion),e.xp6(2),e.Oqu(o.misional),e.xp6(2),e.Oqu(o.proceso)}}const L=()=>({width:"800px",height:"600px"}),G=()=>({"min-width":"50rem"}),z=()=>[5,10,20],B=()=>["proceso","descripcion","misional"],I=[{path:"",component:(()=>{class t{constructor(o,i){this.serviciosServices=o,this.procesosService=i,this.serviciosList=(0,e.tdS)([]),this.showProceso=!1,this.showServicioDialog=!1,this.ProcesoList=(0,e.tdS)([]),this.formularioCompleto=!1}ngOnInit(){this.obtenerServicios(),this.obtenerProcesos()}obtenerServicios(){this.showProceso=!0,this.serviciosServices.getServicios().pipe((0,g.K)(o=>{const i=o.status;return("400"==i||"404"==i||"500"==i)&&console.log("EERROR"),this.showProceso=!1,(0,v._)(o.statusText)})).subscribe(o=>{this.showProceso=!1,this.serviciosList.set(o.respuesta.datos)})}obtenerProcesos(){this.procesosService.getProcesos().pipe((0,g.K)(o=>{const i=o.status;return("400"==i||"404"==i||"500"==i)&&console.log("EERROR"),(0,v._)(o.statusText)})).subscribe(o=>{console.log(o),this.ProcesoList.set(o.respuesta.datos)})}setProceso(o){this.ProcesoSeleccionado=o}clear(o){o.clear()}showDialog(){this.showServicioDialog=!this.showServicioDialog}agregarServicio(){this.descripcionServicio="",this.showDialog()}cancelarServicio(){this.descripcionServicio="",this.ProcesoSeleccionado=null,this.showDialog()}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(C),e.Y36(Z.u))};static#o=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-servicios"]],decls:14,vars:19,consts:[[3,"hidden"],["header","Servicios",3,"hidden"],["header","Agregar servicio",3,"visible","modal","responsive","draggable","resizable","visibleChange"],["pTemplate","body"],["pTemplate","footer"],[1,"grid"],[1,"col-12"],["severity","success","label","Agregar servicio","icon","pi pi-plus",3,"onClick"],["currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} servicios",3,"value","tableStyle","paginator","rowsPerPageOptions","rows","globalFilterFields"],["serviciosTabla",""],["pTemplate","caption"],["pTemplate","header"],[1,"p-fluid","p-formgrid","grid","mt-2"],[1,"field","col-12"],["id","procesoDrop","optionLabel","descripcion","placeholder","Seleccione el proceso",3,"options","showClear","ngModel","onChange"],["procesoDrop",""],[1,"p-float-label"],["rows","5","cols","30","pInputTextarea","","id","descripcion",3,"ngModel","ngModelChange"],["for","descripcion",1,"mb-2"],[2,"color","red"],["style","color: red",4,"ngIf"],["icon","pi pi-save","label","Guardar","severity","success",3,"click"],["icon","pi pi-times","label","Cancelar","severity","danger",3,"click"],[1,"flex"],["pButton","","label","Limpiar b\xfasqueda","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar",3,"input"],["busquedaTabla",""],["pTooltip","Editar servicio","icon","pi pi-pencil","severity","success"]],template:function(i,n){1&i&&(e._UZ(0,"shared-loader",0),e.TgZ(1,"p-card",1)(2,"p-dialog",2),e.NdJ("visibleChange",function(j){return n.showServicioDialog=j}),e.YNc(3,E,13,8,"ng-template",3)(4,N,2,0,"ng-template",4),e.qZA(),e.TgZ(5,"div",5)(6,"div",6)(7,"p-button",7),e.NdJ("onClick",function(){return n.showDialog()}),e.qZA()(),e.TgZ(8,"div",6)(9,"p-table",8,9),e.YNc(11,U,6,0,"ng-template",10)(12,O,9,0,"ng-template",11)(13,R,9,3,"ng-template",3),e.qZA()()()()),2&i&&(e.Q6J("hidden",!n.showProceso),e.xp6(1),e.Q6J("hidden",n.showProceso),e.xp6(1),e.Akn(e.DdM(15,L)),e.Q6J("visible",n.showServicioDialog)("modal",!0)("responsive",!0)("draggable",!1)("resizable",!1),e.xp6(7),e.Q6J("value",n.serviciosList())("tableStyle",e.DdM(16,G))("paginator",!0)("rowsPerPageOptions",e.DdM(17,z))("rows",10)("globalFilterFields",e.DdM(18,B)))},dependencies:[p.O5,x.R,A.Z,_.jx,b.iA,m.Hq,m.zx,M.u,P.V,w.Lt,J.o,y.g,a.Fj,a.JJ,a.On]})}return t})()}];let K=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#o=this.\u0275mod=e.oAB({type:t});static#t=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(I),d.Bz]})}return t})();var H=s(8137),Q=s(5233);let Y=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#o=this.\u0275mod=e.oAB({type:t});static#t=this.\u0275inj=e.cJS({imports:[p.ez,K,H.m,Q.W]})}return t})()}}]);