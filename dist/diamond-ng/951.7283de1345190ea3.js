"use strict";(self.webpackChunkdiamond_ng=self.webpackChunkdiamond_ng||[]).push([[951],{8951:(E,u,s)=>{s.r(u),s.d(u,{LoginModule:()=>R});var p=s(6814),a=s(7664),t=s(5849),g=s(5219),C=s(6306),S=s(8504),x=s(3859),h=s(9862);const Z=s(7053).S;let T=(()=>{class n{constructor(o,e){this.http=o,this.router=e,this.userToken=(0,t.tdS)(null),this.userNameEmail=(0,t.tdS)(null),this.userPassword=(0,t.tdS)(null)}userLogin(o,e){let i={contra:e,usuario:o};return new h.WM({"Content-Type":"application/json"}),this.http.post(Z+"gestioncostos/iniciarSesion/",i,{observe:"response"})}static#t=this.\u0275fac=function(e){return new(e||n)(t.LFG(h.eN),t.LFG(a.F0))};static#o=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var F=s(459),d=s(3714),m=s(7853),v=s(707),A=s(1111),f=s(7018);const y=n=>({"ng-invalid ng-dirty":n}),L=()=>({color:"#303845;"});let M=(()=>{class n{constructor(o,e,i,r,l){this.layoutService=o,this.router=e,this.messageService=i,this.loginService=r,this.cookieService=l,this.correoUsuario=null,this.contraseniaUsuario=null,this.userToken=(0,t.tdS)(null)}get logoCNR(){if(null!=this.layoutService.config().colorScheme){if("light"==this.layoutService.config().colorScheme)return"assets/layout/images/logo_cnr.png";if("dark"==this.layoutService.config().colorScheme)return"assets/layout/images/logo_cnr_transparente_preview_rev_1.png"}}iniciarSesion(){null!=this.contraseniaUsuario&&null!=this.correoUsuario?this.loginService.userLogin(this.correoUsuario,this.contraseniaUsuario).pipe((0,C.K)(o=>{const e=o.status;return("400"==e||"404"==e||"500"==e)&&console.log("EERROR"),(0,S._)(o.statusText)})).subscribe(o=>(console.log(o),this.userToken.set(o.body?.llave),this.cookieService.set("user_token",o.body.llave),this.router.navigate(["/control-gestion/costos"]),!0)):console.log("ERROR")}setCorreo(o){this.correoUsuario=o}setContrasenia(o){this.contraseniaUsuario=o}static#t=this.\u0275fac=function(e){return new(e||n)(t.Y36(x.P),t.Y36(a.F0),t.Y36(g.ez),t.Y36(T),t.Y36(F.N))};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],features:[t._Bn([g.ez])],decls:21,vars:12,consts:[[1,"flex","h-screen"],[1,"w-full","lg:w-4","h-full","text-center","px-6","py-6","flex","flex-column","justify-content-between"],["alt","diamond-layout",3,"src"],[1,"flex","flex-column","align-items-center","gap-4"],[1,"mb-3"],["pInputText","","placeholder","Correo electr\xf3nico",1,"w-20rem",3,"ngClass","keyup"],["correoUsuario",""],["pInputText","","id","password","placeholder","Contrase\xf1a","inputStyleClass","w-20rem",3,"ngClass","feedback","keyup"],["contraseniaUsuario",""],["pButton","","label","Iniciar sesi\xf3n","type","button",1,"w-20rem",3,"click"],[1,"w-8","hidden","lg:flex","flex-column","justify-content-between","align-items-center","px-6","py-6",2,"background-color","#303845"],[1,"mt-auto","mb-auto"],[1,"block","text-white","text-7xl","font-semibold"],[3,"minimal"]],template:function(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"div",0),t._UZ(1,"p-toast"),t.TgZ(2,"div",1),t._UZ(3,"img",2),t.TgZ(4,"div",3)(5,"div",4)(6,"h2"),t._uU(7,"\xa1Bienvenido! Por favor, ingresa tu correo electr\xf3nico"),t.qZA()(),t.TgZ(8,"input",5,6),t.NdJ("keyup",function(){t.CHM(r);const c=t.MAs(9);return t.KtG(i.setCorreo(c.value))}),t.qZA(),t.TgZ(10,"p-password",7,8),t.NdJ("keyup",function(){t.CHM(r);const c=t.MAs(11);return t.KtG(i.setContrasenia(c.value))}),t.qZA(),t.TgZ(12,"button",9),t.NdJ("click",function(){return i.iniciarSesion()}),t.qZA()(),t._UZ(13,"p"),t.qZA(),t.TgZ(14,"div",10)(15,"div",11)(16,"span",12),t._uU(17,"Sistema de Control "),t._UZ(18,"br"),t._uU(19,"de Gesti\xf3n"),t.qZA()()(),t._UZ(20,"app-config",13),t.qZA()}if(2&e){const r=t.MAs(9);t.xp6(3),t.Q6J("src",i.logoCNR,t.LSH),t.xp6(5),t.Q6J("ngClass",t.VKq(7,y,null==r)),t.xp6(2),t.Q6J("ngClass",t.VKq(9,y,null==r))("feedback",!1),t.xp6(2),t.Akn(t.DdM(11,L)),t.xp6(8),t.Q6J("minimal",!0)}},dependencies:[p.mk,d.o,m.ro,v.Hq,A.P,f.FN],styles:["i[_ngcontent-%COMP%]{opacity:.6;transition-duration:.12s;color:#2196f3}i[_ngcontent-%COMP%]:hover{opacity:1}"]})}return n})(),k=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#o=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[a.Bz.forChild([{path:"",component:M}]),a.Bz]})}return n})();var J=s(1567),N=s(5233);let R=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#o=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[p.ez,k,d.j,m.gz,v.hJ,J.h,N.W,f.EV]})}return n})()}}]);