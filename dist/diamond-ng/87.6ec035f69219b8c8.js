"use strict";(self.webpackChunkdiamond_ng=self.webpackChunkdiamond_ng||[]).push([[87],{4087:(H,u,n)=>{n.r(u),n.d(u,{AdministracionModule:()=>G});var c=n(6814),m=n(7664),o=n(5849);let g=(()=>{class t{constructor(){this.listaUsuarios=(0,o.tdS)([]),this.listaRoles=(0,o.tdS)([]),this.listaAcceso=(0,o.tdS)([])}static#o=this.\u0275fac=function(s){return new(s||t)};static#e=this.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var d=n(4532),h=n(5219),_=n(6023),f=n(707),C=n(8528),v=n(3714),r=n(95),Z=n(6263),b=n(5609);function T(t,l){1&t&&(o.TgZ(0,"small",15)(1,"b"),o._uU(2,"Favor ingresar un nombre de rol"),o.qZA()())}function U(t,l){1&t&&(o.TgZ(0,"small",15)(1,"b"),o._uU(2,"Favor seleccionar un rol"),o.qZA()())}function A(t,l){if(1&t){const e=o.EpF();o.TgZ(0,"div",9)(1,"div",10)(2,"span",11)(3,"input",12,13),o.NdJ("ngModelChange",function(i){o.CHM(e);const a=o.oxw();return o.KtG(a.nombreRolIngresado=i)}),o.qZA(),o.TgZ(5,"label",14),o._uU(6,"Nombre rol "),o.TgZ(7,"small",15)(8,"b"),o._uU(9," *"),o.qZA()()()(),o.YNc(10,T,3,0,"small",16),o.qZA(),o.TgZ(11,"div",10)(12,"p-inputSwitch",17),o.NdJ("ngModelChange",function(i){o.CHM(e);const a=o.oxw();return o.KtG(a.estadoRolIngresado=i)}),o.qZA(),o._uU(13," \xa0 "),o.TgZ(14,"label"),o._uU(15),o.qZA(),o.YNc(16,U,3,0,"small",16),o.qZA()()}if(2&t){const e=o.oxw();o.xp6(3),o.Q6J("ngModel",e.nombreRolIngresado),o.xp6(7),o.Q6J("ngIf",(null==e.nombreRolIngresado||""==e.nombreRolIngresado)&&e.formularioCompleto),o.xp6(2),o.Q6J("ngModel",e.estadoRolIngresado),o.xp6(3),o.Oqu(e.estadoRolIngresado?"Activo":"Inactivo"),o.xp6(1),o.Q6J("ngIf",null==e.estadoRolIngresado&&e.formularioCompleto)}}function x(t,l){if(1&t){const e=o.EpF();o.TgZ(0,"p-button",18),o.NdJ("click",function(){o.CHM(e);const i=o.oxw();return o.KtG(i.agregarRol())}),o.qZA(),o.TgZ(1,"p-button",19),o.NdJ("click",function(){o.CHM(e);const i=o.oxw();return o.KtG(i.showDialog())}),o.qZA()}}function R(t,l){1&t&&(o.TgZ(0,"tr")(1,"th"),o._uU(2,"Nombre rol"),o.qZA(),o.TgZ(3,"th"),o._uU(4,"Estado"),o.qZA()())}function I(t,l){if(1&t&&(o.TgZ(0,"tr")(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._UZ(4,"p-tag",20),o.qZA()()),2&t){const e=l.$implicit;o.xp6(2),o.Oqu(e.descripcion),o.xp6(2),o.Q6J("severity",e.estado?"success":"danger")("value",e.estado?"Activo":"Inactivo")}}const w=()=>({width:"500px",height:"300px"}),y=()=>({"min-width":"50rem"});let J=(()=>{class t{constructor(e){this.administracionServices=e,this.showRolDialog=!1,this.nombreRolIngresado=null,this.fechaCreacion=new Date,this.estadoRolIngresado=!1,this.rolesList=[],this.formularioCompleto=!1}ngOnInit(){this.rolesList=this.administracionServices.listaRoles()}agregarRol(){if(null!=this.nombreRolIngresado&&""!=this.nombreRolIngresado){this.formularioCompleto=!1;let e=[...this.rolesList];e.push({estado:this.estadoRolIngresado,descripcion:this.nombreRolIngresado,codigo:this.rolesList.length+1}),this.rolesList=e,this.administracionServices.listaRoles.set(this.rolesList),this.limpiarInputs(),this.showDialog()}else this.formularioCompleto=!0}limpiarInputs(){this.nombreRolIngresado=null,this.fechaCreacion=new Date,this.estadoRolIngresado=!1}showDialog(){this.showRolDialog?(this.formularioCompleto=!0,this.limpiarInputs(),this.showRolDialog=!1):(this.formularioCompleto=!1,this.showRolDialog=!0)}static#o=this.\u0275fac=function(s){return new(s||t)(o.Y36(g))};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["app-roles"]],decls:11,vars:11,consts:[["header","Roles"],["header","Agregar rol",3,"visible","modal","responsive","draggable","resizable","visibleChange"],["pTemplate","body"],["pTemplate","footer"],[1,"grid"],[1,"col-12"],["severity","success","label","Agregar rol","icon","pi pi-plus",3,"onClick"],[3,"value","tableStyle"],["pTemplate","header"],[1,"p-fluid","p-formgrid","grid","mt-2"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["id","nombreRol","type","text","required","","pInputText","",3,"ngModel","ngModelChange"],["nombreRol",""],["for","nombreRol",1,"mb-2"],[2,"color","red"],["style","color:red",4,"ngIf"],["inputId","estado",3,"ngModel","ngModelChange"],["icon","pi pi-save","label","Cargar","severity","success",3,"click"],["icon","pi pi-times","label","cancelar","severity","danger",3,"click"],[3,"severity","value"]],template:function(s,i){1&s&&(o.TgZ(0,"p-card",0)(1,"p-dialog",1),o.NdJ("visibleChange",function(p){return i.showRolDialog=p}),o.YNc(2,A,17,5,"ng-template",2)(3,x,2,0,"ng-template",3),o.qZA(),o.TgZ(4,"div",4)(5,"div",5)(6,"p-button",6),o.NdJ("onClick",function(){return i.showDialog()}),o.qZA()(),o.TgZ(7,"div",5)(8,"p-table",7),o.YNc(9,R,5,0,"ng-template",8)(10,I,5,3,"ng-template",2),o.qZA()()()()),2&s&&(o.xp6(1),o.Akn(o.DdM(9,w)),o.Q6J("visible",i.showRolDialog)("modal",!0)("responsive",!0)("draggable",!1)("resizable",!1),o.xp6(7),o.Q6J("value",i.rolesList)("tableStyle",o.DdM(10,y)))},dependencies:[c.O5,d.Z,h.jx,_.iA,f.zx,C.V,v.o,r.Fj,r.JJ,r.Q7,r.On,Z.V,b.Ql]})}return t})();var M=n(2352);function q(t,l){1&t&&(o.TgZ(0,"small",15)(1,"b"),o._uU(2,"Favor ingresar un nombre de usuario"),o.qZA()())}function D(t,l){1&t&&(o.TgZ(0,"small",15)(1,"b"),o._uU(2,"Favor seleccionar un rol"),o.qZA()())}function S(t,l){if(1&t){const e=o.EpF();o.TgZ(0,"div",9)(1,"div",10)(2,"span",11)(3,"input",12,13),o.NdJ("ngModelChange",function(i){o.CHM(e);const a=o.oxw();return o.KtG(a.nombreUsuarioIngresado=i)}),o.qZA(),o.TgZ(5,"label",14),o._uU(6,"Nombre de usuario "),o.TgZ(7,"small",15)(8,"b"),o._uU(9," *"),o.qZA()()()(),o.YNc(10,q,3,0,"small",16),o.qZA(),o.TgZ(11,"div",10)(12,"span",11)(13,"p-dropdown",17,18),o.NdJ("onChange",function(i){o.CHM(e);const a=o.oxw();return o.KtG(a.setRol(i.value))}),o.qZA(),o.TgZ(15,"label",19),o._uU(16,"Rol "),o.TgZ(17,"small",15)(18,"b"),o._uU(19," *"),o.qZA()()(),o.YNc(20,D,3,0,"small",16),o.qZA()()()}if(2&t){const e=o.oxw();o.xp6(3),o.Q6J("ngModel",e.nombreUsuarioIngresado),o.xp6(7),o.Q6J("ngIf",(null==e.nombreUsuarioIngresado||""==e.nombreUsuarioIngresado)&&e.formularioCompleto),o.xp6(3),o.Q6J("ngModel",e.rolSeleccionado)("options",e.rolesList)("showClear",!0),o.xp6(7),o.Q6J("ngIf",null==e.rolSeleccionado&&e.formularioCompleto)}}function N(t,l){if(1&t){const e=o.EpF();o.TgZ(0,"p-button",20),o.NdJ("click",function(){o.CHM(e);const i=o.oxw();return o.KtG(i.agregarUsuario())}),o.qZA(),o.TgZ(1,"p-button",21),o.NdJ("click",function(){o.CHM(e);const i=o.oxw();return o.KtG(i.showDialog())}),o.qZA()}}function L(t,l){1&t&&(o.TgZ(0,"tr")(1,"th"),o._uU(2,"Nombre"),o.qZA(),o.TgZ(3,"th"),o._uU(4,"Rol"),o.qZA(),o.TgZ(5,"th"),o._uU(6,"Fecha de creacion"),o.qZA(),o.TgZ(7,"th"),o._uU(8,"Estado"),o.qZA()())}function F(t,l){if(1&t&&(o.TgZ(0,"tr")(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.ALo(7,"date"),o.qZA(),o.TgZ(8,"td"),o._UZ(9,"p-tag",22),o.qZA()()),2&t){const e=l.$implicit;o.xp6(2),o.Oqu(e.nombreUsuario),o.xp6(2),o.Oqu(e.rol.descripcion),o.xp6(2),o.Oqu(o.lcZ(7,5,e.fechaCreacion)),o.xp6(3),o.Q6J("severity",e.estado?"success":"warning")("value",e.estado?"Activo":"Inactivo")}}const Q=()=>({width:"500px",height:"300px"}),k=()=>({"min-width":"50rem"}),O=[{path:"roles",component:J},{path:"usuarios",component:(()=>{class t{constructor(e){this.administracionServices=e,this.showUsuarioDialog=!1,this.nombreUsuarioIngresado=null,this.fechaCreacion=new Date,this.estadoSeleccionado=null,this.rolSeleccionado=null,this.usuariosList=[],this.rolesList=[],this.formularioCompleto=!1}ngOnInit(){this.usuariosList=this.administracionServices.listaUsuarios();let e=[];for(let s of this.administracionServices.listaRoles())s.estado&&e.push(s);this.rolesList=e}setRol(e){this.rolSeleccionado=e}agregarUsuario(){if(null!=this.nombreUsuarioIngresado&&""!=this.nombreUsuarioIngresado&&null!=this.rolSeleccionado){this.formularioCompleto=!1;let e=[...this.usuariosList];e.push({estado:!0,nombreUsuario:this.nombreUsuarioIngresado,fechaCreacion:this.fechaCreacion,rol:this.rolSeleccionado}),this.usuariosList=e,this.administracionServices.listaUsuarios.set(this.usuariosList),this.limpiarInputs(),this.showDialog()}else this.formularioCompleto=!0}limpiarInputs(){this.nombreUsuarioIngresado=null,this.fechaCreacion=new Date,this.estadoSeleccionado=null,this.rolSeleccionado=null}showDialog(){this.showUsuarioDialog?(this.formularioCompleto=!0,this.limpiarInputs(),this.showUsuarioDialog=!1):(this.formularioCompleto=!1,this.showUsuarioDialog=!0)}static#o=this.\u0275fac=function(s){return new(s||t)(o.Y36(g))};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["app-usuarios"]],decls:11,vars:11,consts:[["header","Usuarios"],["header","Agregar usuario",3,"visible","modal","responsive","draggable","resizable","visibleChange"],["pTemplate","body"],["pTemplate","footer"],[1,"grid"],[1,"col-12"],["severity","success","label","Agregar usuario","icon","pi pi-plus",3,"onClick"],[3,"value","tableStyle"],["pTemplate","header"],[1,"p-fluid","p-formgrid","grid","mt-2"],[1,"field","col-12","md:col-6"],[1,"p-float-label"],["id","nombreUsarioInput","type","text","required","","pInputText","",3,"ngModel","ngModelChange"],["nombreUsarioInput",""],["for","nombreUsarioInput",1,"mb-2"],[2,"color","red"],["style","color:red",4,"ngIf"],["optionLabel","descripcion","inputId","roles","id","roles",3,"ngModel","options","showClear","onChange"],["roles",""],["for","roles"],["icon","pi pi-save","label","Cargar","severity","success",3,"click"],["icon","pi pi-times","label","cancelar","severity","danger",3,"click"],[3,"severity","value"]],template:function(s,i){1&s&&(o.TgZ(0,"p-card",0)(1,"p-dialog",1),o.NdJ("visibleChange",function(p){return i.showUsuarioDialog=p}),o.YNc(2,S,21,6,"ng-template",2)(3,N,2,0,"ng-template",3),o.qZA(),o.TgZ(4,"div",4)(5,"div",5)(6,"p-button",6),o.NdJ("onClick",function(){return i.showDialog()}),o.qZA()(),o.TgZ(7,"div",5)(8,"p-table",7),o.YNc(9,L,9,0,"ng-template",8)(10,F,10,7,"ng-template",2),o.qZA()()()()),2&s&&(o.xp6(1),o.Akn(o.DdM(9,Q)),o.Q6J("visible",i.showUsuarioDialog)("modal",!0)("responsive",!0)("draggable",!1)("resizable",!1),o.xp6(7),o.Q6J("value",i.usuariosList)("tableStyle",o.DdM(10,k)))},dependencies:[c.O5,d.Z,h.jx,_.iA,f.zx,C.V,M.Lt,v.o,r.Fj,r.JJ,r.Q7,r.On,Z.V,c.uU]})}return t})()},{path:"accesos",component:(()=>{class t{static#o=this.\u0275fac=function(s){return new(s||t)};static#e=this.\u0275cmp=o.Xpm({type:t,selectors:[["app-accesos"]],decls:2,vars:0,template:function(s,i){1&s&&(o.TgZ(0,"p"),o._uU(1,"accesos works!"),o.qZA())}})}return t})()}];let Y=(()=>{class t{static#o=this.\u0275fac=function(s){return new(s||t)};static#e=this.\u0275mod=o.oAB({type:t});static#t=this.\u0275inj=o.cJS({imports:[m.Bz.forChild(O),m.Bz]})}return t})();var z=n(5233);let G=(()=>{class t{static#o=this.\u0275fac=function(s){return new(s||t)};static#e=this.\u0275mod=o.oAB({type:t});static#t=this.\u0275inj=o.cJS({imports:[c.ez,Y,z.W]})}return t})()}}]);